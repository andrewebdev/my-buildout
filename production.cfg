[buildout]
extends = buildout.cfg
parts += nginx supervisor-conf


[opts]
control-script = ${django:control-script}
user =
server_domain =
server_name =
listen_port =
media_dir = ${buildout:directory}/cdn/
workers = 4
socketfile = ${buildout:directory}/bin/${opts:control-script}.sock


[nginx]
recipe = collective.recipe.template
input = templates/nginx.conf
output = ${buildout:directory}/nginx/${opts:control-script}.conf


[supervisor-conf]
recipe = collective.recipe.template
input = templates/supervisor.conf
output = ${buildout:directory}/supervisor/${opts:control-script}.conf
mode = 755

